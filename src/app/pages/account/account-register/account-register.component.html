<div class="account-register">
  <header class="account-register__header">
    <h2 class="account-register__title">Apertura de Cuenta</h2>
    <p class="account-register__subtitle">
      Configuración del producto para el cliente seleccionado.
    </p>
  </header>

  <form (submit)="onSubmit($event)" class="account-form">
    <div class="account-form__section">
      <bog-info-block label="Asociando cuenta al Cliente ID:" [value]="customerId()">
      </bog-info-block>
    </div>

    <div class="account-form__grid">
      <bog-form-field
        label="Estado Inicial de la Cuenta"
        inputId="status"
        [controlState]="registerForm.status()"
      >
        <select id="status" [formField]="registerForm.status">
          @for (opt of statusOptions(); track opt.id) {
            <option [value]="opt.id">{{ opt.name }}</option>
          }
        </select>
      </bog-form-field>
    </div>

    <div class="account-form__actions">
      <bog-button
        type="button"
        variant="ghost"
        routerLink="/cuentas"
        [queryParams]="{ idCliente: customerId() }"
      >
        Cancelar
      </bog-button>

      <bog-button type="submit" variant="primary" [isLoading]="isLoading()">
        Crear Cuenta
      </bog-button>
    </div>

    @if (showSuccess()) {
      <div class="account-form__toast">¡Cuenta creada exitosamente! Redirigiendo...</div>
    }
  </form>
</div>
